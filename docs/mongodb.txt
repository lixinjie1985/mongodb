MongoDB is an open-source document database that provides high performance, high availability, and automatic scaling.

文档，在编程语言中有与之对应的数据类型，嵌套（嵌入）的文档和数组减少了表连接，动态方案支持流式多态

高性能，嵌套文档减少IO活动，索引支持快速查询，高可用，MongoDB的复制功能，提供自动故障转移和数据冗余。一个副本集合是一组MongoDB服务器，维护相同的数据集，提供冗余和提高数据可用性。水平扩展性是其核心功能，分片（sharding）可以在一个集群内分发数据，从3.4支持基于shard key创建数据zones

数据库，集合，文档，从3.4可以从集合或其它视图创建只读视图，视图使用底层集合的索引，不能指定$natural排序，视图也被认为是分区的如果底层集合是分区的，视图创建时可以指定一个默认排序规则，如果不指定将使用simple的二进制比较，视图不继承集合的排序规则。视图里字符串的比较使用视图的默认排序规则，改变或重写视图的默认排序规则将报错。如果从另一个视图创建视图时，不能指定和源视图不同的排序规则。如果多个视图进行聚合，它们必须具有相同的排序规则

有上限的集合，固定大小的集合支持高吞吐量操作，插入和按插入的顺序获取，工作方式与循环缓冲区相似，一旦填满之后就开始覆盖最旧的数据。可以保持插入顺序，支持很高的插入吞吐量。记录日志的速度与直接把日志写入文件系统的速度相近，默认就是先进先出的顺序，与事件发生顺序一致。具有_id字段且该字段上有索引。限制和建议，要更新的话请建立索引，避免全集合扫描。如果一个更新或替换操作改变了集合里的文档的大小，操作将失败。无法删除集合里的文档，如果要清空集合的话可以把该集合删除再建一个集合。上限集合不能分区。以自然顺序获取最近插入元素很有效，类似日志文件的尾部。创建集合时要指定占用空间的大小，也可以指定最多存储的文档个数。可以使用尾部游标（类似tail -f），来获取刚插入的数据

文档，BSON是JSON的二进制表示，但包含更多的数据类型。_id被保留用作主键，它的值必须集合内唯一且不可变，可以是除数组外的其它任何数据类型。字段名称不能包含美元符号，点符号和null。使用点来访问数组元素和嵌入文档的字段，基于0的索引访问数组<array>.<index>，访问嵌入文档<embedded document>.<field>。文档字段的顺序会被保持，当重命名字段名称时也尽力保持，但_id字段总是第一个。集合中的每个文档都要求有一个唯一的_id字段作为主键，如果插入时没有指定，则驱动会自动生成一个ObjectId类型的_id字段。

BSON类型，BSON是一种二进制序列化格式用于存储文档和mongo中的远程过程调用。支持多种数据类型，每种类型都有一个数字编号和字符串形式的别名，可用于$type操作符按数据类型进行文档查询。

批量写操作，针对一个集合，允许应用定义可接受的必要确认级别。如果设置为有序，则顺序地执行，遇到错误就返回，不再执行后面的。如果设置为无序，则并行执行，其中一个出错，不影响其它的执行。插入、更新、替换和删除操作可以在一个批量写中执行。分片集合批量插入策略，预分割集合，如果分片集合是空的，那么它只有一个初始化块，位于一个单一分片上。为了避免性能耗费，可以预分割集合。无序写入，尝试同时把写请求发送到多个分片。避免单调限制，如果你的分片key在插入是单调增长，

SQL到MongoDB的映射图

